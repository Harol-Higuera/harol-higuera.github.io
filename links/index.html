<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ローディング中...</title>
</head>
<body>
  <script>
    /**
     * Determine the mobile operating system.
     * This function returns one of 'iOS', 'Android', 'Windows Phone', or 'unknown'.
     */
    function getOS() {
      var userAgent = navigator.userAgent || navigator.vendor || window.opera;

      if (/windows phone/i.test(userAgent)) {
        return "Windows Phone";
      }
      if (/android/i.test(userAgent)) {
        return "Android";
      }
      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        return "iOS";
      }
      return "unknown";
    }

    /**
     * Get URL parameters from the current URL.
     */
    function getUrlParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        param1: params.get('param1') || '',
        param2: params.get('param2') || ''
      };
    }

    window.onload = function () {
      const { param1, param2 } = getUrlParams();

      const iOSUrl = `https://apps.apple.com/app/apple-store/id6473886466?utm_source=${param1}&utm_medium=${param2}`;
      const androidUrl = `https://play.google.com/store/apps/details?id=jp.co.tokyo_dome.tokyodomecity&utm_source=${param1}&utm_medium=${param2}`;
      const siteUrl = `https://www.tokyo-dome.co.jp/app/?utm_source=${param1}&utm_medium=${param2}`;

      console.log("iOS URL:", iOSUrl);
      console.log("Android URL:", androidUrl);
      console.log("Site URL:", siteUrl);

      setTimeout(function () {
        window.location =
          getOS() === "iOS"
            ? iOSUrl
            : getOS() === "Android"
            ? androidUrl
            : siteUrl;
      }, 1500);
    };
  </script>
</body>
</html>
